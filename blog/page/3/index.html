
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>...</title>
  <meta name="author" content="Tony Eichelberger">

  
  <meta name="description" content="The intent of the FLYWEIGHT pattern is to use sharing to support large numbers of fine-grained objects efficiently. (Java Design Patterns)I have &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://watkyn.github.io/blog/page/3">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="..." type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">...</a></h1>
  
    <h2>(That is an ellipsis)</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:watkyn.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2009/05/22/Pattern-of-the-Week-Flyweight/">Pattern of the Week - Flyweight</a></h1>
    
    
      <p class="meta">
        








  



  
<time datetime="2009-05-22T16:17:12-05:00" pubdate data-updated="true">May 22<span>nd</span>, 2009</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>The intent of the FLYWEIGHT pattern is to use sharing to support large numbers of fine-grained objects efficiently.  (Java Design Patterns)<br /><br />I have always wondered what exactly the Flyweight pattern was all about so this week I decided I would learn.  Right away in the definition is the use of another term that I usually find confusing, &ldquo;fine-grained vs coarse-grained&rdquo; objects.<br /><br />It turns out <a href="http://en.wikipedia.org/wiki/Granularity">fine-grained and coarse-grained</a> are terms used in physics and have also come to be used in other technical fields.  For objects, to be fine-grained generally means to be small with a focused responsibility whereas coarse-grained objects generally encapsulate the functionality of many fine-grained objects.<br /><br />J2EE uses these terms a lot because of the problems involved in having fine-grained objects being too &ldquo;chatty&rdquo; in a distributed system.<br /><br />Anyway, to get back to Flyweight, lets say there is a fine-grained object like a Unit.  Unit is a measurement that can be anything from inches to liters to moles.  The point being, a Unit is immutable and one instance can be shared safely across the entire system.  An inch is always going to be an inch, so lets share the inch Unit instead of having everyone create there own instance of inch anytime they need it.<br /><br />One approach (used in the book) is to create a factory like UnitFactory that will return the shared instance of each Unit.  Enforcing the use of UnitFactory was done by hiding all the Unit implementations in an inner class of the Factory so that they can not be instantiated directly.  The Unit interface is exposed to all.  Asking the UnitFactory for a Unit could either be done by passing in a string or an enum representing the Unit to be returned.<br /><br />So, if you really want to prematurelly optimize your next project, analyze all the objects that could potentially be shared and tell everyone on your team that the Flyweight pattern would be a really good idea.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2009/04/23/Refactoring-thing-of-the-week/">Refactoring Thing of the Week</a></h1>
    
    
      <p class="meta">
        








  



  
<time datetime="2009-04-23T16:32:11-05:00" pubdate data-updated="true">Apr 23<span>rd</span>, 2009</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Well, I don&rsquo;t have much to say about the Refactoring: Change Bidirectional Association to Unidirectional (which is what I decided to look at this week on Monday).  Sounds great!  Change it if it makes sense.<br /><br />Like Fowler says in the book, &ldquo;The most difficult part of this refactoring is checking that I can do it.&rdquo;<br /><br />If the change will not cause too many ripple effects, it can be done very nicely.  Otherwise, you may be facing a big ball of mud and it may not be feasible.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2009/04/06/IBOutlets-and-Interface-Builder/">IBOutlets and Interface Builder</a></h1>
    
    
      <p class="meta">
        








  



  
<time datetime="2009-04-06T09:56:00-05:00" pubdate data-updated="true">Apr 6<span>th</span>, 2009</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>It has taken me about 5 sessions of working through the <a href="http://www.pragprog.com/screencasts/v-bdiphone/writing-your-first-iphone-application">Pragmatic Programmers iPhone screencasts</a> before I am starting to feel comfortable &ldquo;wiring up&rdquo; components through Interface Builder.<br /><br />It really is a &ldquo;visual&rdquo; dependency injection framework.  I specify the class that I want access to in my header file and optionally have properties set for it.  Then, when I drag the visual representation of the class to another visual representation of another class, it tells the compiler to inject this class into that class.  <br /><br />Connecting, via the right click drag and drop, is essentially setting up a configuration that will inject that component into your class at runtime.  Before today, I didn&rsquo;t really notice the list of IBOutlets each component was expecting to have set and the list that each component was referenced by.  For some reason, that was the point at which everything started to click.<br /><br />Before today, I just saw Bill D. dragging stuff around and &ldquo;wiring things together&rdquo;.  Then I would try to start from scratch without following him step by step and get totally lost as soon as I had to figure out which components to hook up to which controllers, etc.<br /><br />I don&rsquo;t know why it has helped me to think of it in terms of dependency injection, but if it helps, it helps.  Probably more than anything, it just takes repetition until something clicks.  One or two more episodes and possibly a small project start to finish, and I think it will be cemented in the brain paths for a good long time.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2009/04/03/Pattern-of-the-week-Decorator/">Pattern of the Week - Decorator</a></h1>
    
    
      <p class="meta">
        








  



  
<time datetime="2009-04-03T14:13:07-05:00" pubdate data-updated="true">Apr 3<span>rd</span>, 2009</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>The intent of DECORATOR is to let you compose new variations of an operation at runtime. (Java Design Patterns)<br /><br />The example given in the book identifies java streams as using the Decorator pattern.  Right away my reaction is, I have always hated dealing with streams in Java, they are always so confusing.<br /><br />I like Russ Olsen&rsquo;s comment in Design Patterns in Ruby:<br />&ldquo;The classic Decorator pattern is loved more by the folks who build the thing than by those who use it.&rdquo;<br /><br />I would agree.<br /><br />But understanding Decorator will help me recognize when someone has chosen to use Decorator in an API, and maybe it won&rsquo;t be confusing anymore.<br /><br />When to use Decorator is not something I am going to try and explain.  I am only interested in trying to explain what Decorator is, so as to help solidify it in my brain forever.  I am going to give a short explanation and then a link to the code I have been experimenting with.<br /><br />Once the class to be decorated (my example uses a Person class) has been determined, a suitable interface must be agreed upon, that all decorators must implement.  The Decorator must take the Person class as a constructor parameter and delegate to that instance for all methods that it does not explicitly want to manage.  In Most cases, the methods in the Decorator will always delegate to the person instance passed in but some methods will add additional logic.<br /><br />This pattern allows chaining of Decorators and can be very flexible.  Check out my ruby example code where in I experiment with Decorator following the Java idiom with its limitations and then using ruby modules.  Notice how the two types of Decorators keep chaining together.<br /><br /><a href="http://github.com/watkyn/scripts/blob/5ed8f3c91fe51fb66c05b83f70260c1a0bd1eb99/patterns/decorator.rb">Git Hub Decorator.rb</a><br /><br />Template Method and Strategy are competing patterns with Decorator.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2009/04/02/Should-I-trust-the-Legion-of-the-Bouncy-Castle/">Should I Trust the &#8220;Legion of the Bouncy Castle&#8221;</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-04-02T14:47:34-05:00" pubdate data-updated="true">Apr 2<span>nd</span>, 2009</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I love the idea of Java Web Start and have even given it another try recently (<a href="http://tonyike.blogspot.com/2009/03/new-webstart.html">The New Webstart</a>), but as an occasional user of Web Start applications, I can see why it will never take off.  Java does not take off the engineering hats long enough to see how bad it really is.<br /><br />Case Study:<br /><br /><a href="http://www.soapui.org/">SoapUI</a> is a testing tool for web services that I have been using on a project.  I needed to run only the GUI portion of SoapUI from my mac so I decided to just web start it and go from there.<br /><br />The web start button on the web site looks fabulous, great job.  I click on it and it asks me if I want to open the .jnlp file with Java Web Start.  Sure, let&rsquo;s do that.  <br /><br />First the ugly Java splash screen comes up.  (-1)<br /><br />After downloading all the SoapUI jars a popup asks me if I trust eviware?  Sure, I click yes.  Then I am asked if I trust sun micorsystems.  Ok, i guess so, lets get on with this.  <br /><br />But the kicker was the last one which asked me:<br /><br />&ldquo;Do you trust &lsquo;The Legion of the Bouncy Castle&rsquo;?&rdquo;<br /><br />HUH???<br /><br />So, I googled <a href="http://www.bouncycastle.org/">the legion</a> and found out what it was, and it sounds legit.  It is an open source encryption library of some kind.  And great, if they want to call themselves that, but please do not ask the users of your software if they trust the Legion of the Bouncy Castle!<br /><br />Do not ask me if I trust this application more than once, and never, never, never, never, never, never, never ask a USER if they trust the Legion of the Bouncy Castle!<br /><br />(-1000)<br /><br />I close the app after I am done and realize I have no way of opening SoapUI again unless I navigate back to the web site and relaunch it.<br /><br />Web Start should make it hard for developers to leave the user hanging as to how to launch the app a second time.<br /><br />(-5)<br /><br />So I give that cumulative score of -1051</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/07/09/using-sqlite3-in-a-visual-studio-2008-c-plus-plus-application/">Using Sqlite3 in a Visual Studio 2008 C++ Application</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-07-09T10:14:36-05:00" pubdate data-updated="true">Jul 9<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I had a terrible time finding out how to get sqlite working with VC++ using the windows binaries from the sqlite download page. Most of the trouble was from me being a complete newb to VC++ but in the end I got it working. Here are the steps to follow along for next time.</p>

<ol>
<li>Download the precompiled binaries for Windows and also download the source code.</li>
<li>The DLL download should contain the following files: sqlite3.dll and sqlite3.def</li>
<li>The source code should contain lots of c code and header files, you need to find the sqlite3.h header file.</li>
<li>Put sqlite3.dll, sqlite3.def, and sqlite3.h files into a directory somewhere.</li>
<li>Next you need to create a sqlite3.lib file in order to implicitly link the dll to your project</li>
<li>From the command line, navigate to the folder that has the sqlite3 files from step 4, then type the following:</li>
<li>LIB /DEF:sqlite3.def</li>
<li>This should create two more files: sqlite3.lib and sqlite3.exp</li>
<li>NOTE: LIB.exe needs to be on your path and can be found it in the Visual Studio install directory (do a search).</li>
<li>Now start a new console application project in Visual Studio</li>
<li>Copy the sqlite3.dll, sqlite3.lib, and sqlite3.h files into your new project directory</li>
<li>Right click on the Resource Files folder and choose Add >> Existing Item &hellip; then choose sqlite3.lib</li>
<li>You may get a dialog that asks you about the custom rule, I just chose no.</li>
<li>Now add the sqlite3.h file into your project headers directory in Visual Studio (project >> Add >> Existing item)</li>
<li>Now you should be able to start using sqlite3: Here is a sample console app you can try.</li>
<li>This will create a new db and a sample table and spit out a resultset to the console.</li>
</ol>


<figure class='code'><figcaption><span>Junk</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
</pre></td><td class='code'><pre><code class='c++'><span class='line'><span class="cp">#include &quot;stdafx.h&quot;</span>
</span><span class='line'><span class="cp">#include &quot;sqlite3.h&quot;</span>
</span><span class='line'>
</span><span class='line'><span class="k">static</span> <span class="kt">int</span> <span class="n">callback</span><span class="p">(</span><span class="kt">void</span> <span class="o">*</span><span class="n">NotUsed</span><span class="p">,</span> <span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span> <span class="o">**</span><span class="n">argv</span><span class="p">,</span> <span class="kt">char</span> <span class="o">**</span><span class="n">azColName</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'><span class="kt">int</span> <span class="n">i</span><span class="p">;</span>
</span><span class='line'><span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="n">argc</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">){</span>
</span><span class='line'><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%s = %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">azColName</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">argv</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">?</span> <span class="n">argv</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">:</span> <span class="s">&quot;NULL&quot;</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
</span><span class='line'><span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="kt">int</span> <span class="n">_tmain</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="n">_TCHAR</span><span class="o">*</span> <span class="n">argv</span><span class="p">[])</span> <span class="p">{</span>
</span><span class='line'><span class="n">sqlite3</span> <span class="o">*</span><span class="n">db</span><span class="p">;</span>
</span><span class='line'><span class="kt">char</span> <span class="o">*</span><span class="n">zErrMsg</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span><span class='line'><span class="kt">int</span> <span class="n">rc</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="n">rc</span> <span class="o">=</span> <span class="n">sqlite3_open</span><span class="p">(</span><span class="s">&quot;test.db&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">db</span><span class="p">);</span>
</span><span class='line'><span class="k">if</span><span class="p">(</span> <span class="n">rc</span> <span class="p">)</span> <span class="p">{</span>
</span><span class='line'><span class="n">fprintf</span><span class="p">(</span><span class="n">stderr</span><span class="p">,</span> <span class="s">&quot;Can&#39;t open database: %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">sqlite3_errmsg</span><span class="p">(</span><span class="n">db</span><span class="p">));</span>
</span><span class='line'><span class="n">sqlite3_close</span><span class="p">(</span><span class="n">db</span><span class="p">);</span>
</span><span class='line'><span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="n">rc</span> <span class="o">=</span> <span class="n">sqlite3_exec</span><span class="p">(</span><span class="n">db</span><span class="p">,</span> <span class="s">&quot;create table stuff ( name )&quot;</span><span class="p">,</span> <span class="n">callback</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">zErrMsg</span><span class="p">);</span>
</span><span class='line'><span class="n">rc</span> <span class="o">=</span> <span class="n">sqlite3_exec</span><span class="p">(</span><span class="n">db</span><span class="p">,</span> <span class="s">&quot;insert into stuff values (&#39;hello&#39;)&quot;</span><span class="p">,</span> <span class="n">callback</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">zErrMsg</span><span class="p">);</span>
</span><span class='line'><span class="n">rc</span> <span class="o">=</span> <span class="n">sqlite3_exec</span><span class="p">(</span><span class="n">db</span><span class="p">,</span> <span class="s">&quot;select * from stuff&quot;</span><span class="p">,</span> <span class="n">callback</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">zErrMsg</span><span class="p">);</span>
</span><span class='line'><span class="k">if</span><span class="p">(</span><span class="n">rc</span> <span class="o">!=</span> <span class="n">SQLITE_OK</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'><span class="n">fprintf</span><span class="p">(</span><span class="n">stderr</span><span class="p">,</span> <span class="s">&quot;SQL error: %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">zErrMsg</span><span class="p">);</span>
</span><span class='line'><span class="n">sqlite3_free</span><span class="p">(</span><span class="n">zErrMsg</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="n">sqlite3_close</span><span class="p">(</span><span class="n">db</span><span class="p">);</span>
</span><span class='line'><span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>

</div>
  
  


    </article>
  
  <div class="pagination">
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/2/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2014/02/06/strength/">Strength, Agility, and Speed</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/02/22/The-developer-mind-and-QA/">The Developer Mind and QA</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/02/14/SVN-Eclipse-Mountain-Lion-and-Homebrew/">SVN Eclipse Mountain Lion and Homebrew</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/01/06/Updating-rubygems-on-an-old-10.5-Leopard-machine/">Updating Rubygems on an Old 10.5 Leopard Machine</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/01/06/vim-compiled-with-ruby-support-on-Lion/">Vim Compiled With Ruby Support on Lion</a>
      </li>
    
  </ul>
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - Tony Eichelberger -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  











</body>
</html>
