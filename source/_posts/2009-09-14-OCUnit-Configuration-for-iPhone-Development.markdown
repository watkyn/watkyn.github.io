---
layout: post
title: OCUnit Configuration for iPhone Development
date: 2009-09-14 13:04:55 UTC
updated: 2009-09-14 13:04:55 UTC
comments: false
categories: iphone objective-c
---

On an <span class="blsp-spelling-corrected" id="SPELLING_ERROR_0">iPhone</span> project I am currently working on, I have been experimenting with some unit testing frameworks.  Actually, I tried the <span class="blsp-spelling-error" id="SPELLING_ERROR_1">rbiphonetesting</span> ruby framework from Dr. <span class="blsp-spelling-error" id="SPELLING_ERROR_2">Nic</span> and that got me started down the TDD path on this project.<br /><br />It was actually pretty sweet, since I couldn't test any <span class="blsp-spelling-error" id="SPELLING_ERROR_3">UIKit</span> classes from the ruby framework since it was using <span class="blsp-spelling-error" id="SPELLING_ERROR_4">MacRuby</span> which does not run on the <span class="blsp-spelling-corrected" id="SPELLING_ERROR_5">iPhone</span> <span class="blsp-spelling-error" id="SPELLING_ERROR_6">sdk</span>.  This was a nice constraint, as I was forced to put any code I wanted to test into a non <span class="blsp-spelling-error" id="SPELLING_ERROR_7">UI</span> class.  This helped me clean out the <span class="blsp-spelling-error" id="SPELLING_ERROR_8">UI</span> and delegate to models, presenters, etc.<br /><br />Then I hit an issue with differences in string handling between <span class="blsp-spelling-error" id="SPELLING_ERROR_9">MacRuby</span> and the <span class="blsp-spelling-corrected" id="SPELLING_ERROR_10">iPhone</span> <span class="blsp-spelling-error" id="SPELLING_ERROR_11">sdk</span>.  My unit tests were no longer reliable, since they were passing but when running on the <span class="blsp-spelling-corrected" id="SPELLING_ERROR_12">iPhone</span>, I could obviously see incorrect behavior.<br /><br />I knew going in, that this could be a problem.  It was a fun experiment, and actually gave me a good perspective on testing apps on the <span class="blsp-spelling-corrected" id="SPELLING_ERROR_13">iPhone</span>. <br /><br />I have recently ported all my ruby tests over to <span class="blsp-spelling-error" id="SPELLING_ERROR_14">OCUnit</span> and am back up and running.  If I had started with <span class="blsp-spelling-error" id="SPELLING_ERROR_15">OCUnit</span>, I think my tests may be quite <span class="blsp-spelling-corrected" id="SPELLING_ERROR_16">different</span>, as well as the structure of my object model.<br /><br />One thing that stuck out for me after porting all the tests over to <span class="blsp-spelling-error" id="SPELLING_ERROR_17">OCUnit</span>, is that they are incredibly fast compared to the ruby version.  Which is good, since they run every time I build my code in <span class="blsp-spelling-error" id="SPELLING_ERROR_18">Xcode</span>.